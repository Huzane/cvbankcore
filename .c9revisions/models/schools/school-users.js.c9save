{"ts":1380277367312,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var db = global.db;\nvar Schema = db.Schema;\nvar SchoolModel = require('./school-db.js').SchoolModel;\n\n/**\n * This is a register for users / staff that belong to a school\n */\n\nvar SchoolUserSchema = new Schema({\n    accountId : {type: Schema.ObjectId}, //added by Daser\n    phone:{type:String}, //added by Daser\n    address:{type:String}, //added by Daser\n    identity : {type:String, required : true, unique : true},\n    firstName: String, //added by Daser\n    lastName:String, //added by Daser\n\tpicture : String,\n\tgender : String,\n    schoolId : {type:Schema.Types.ObjectId, ref : SchoolModel.modelName},\n    userType : {type: String, default: 'schooluser'}, \n    regOn: {type: Date, default: Date.now},\n\tstatus : {type : String, default : ''}\n    });\n\nSchoolUserSchema.index({identity : 1, companyId : 1}); \n\nvar Model = db.model(\"SchoolUser\",SchoolUserSchema);\nmodule.exports.SchoolUserModel = Model;\n"]],"start1":0,"start2":0,"length1":0,"length2":904}]],"length":904}
