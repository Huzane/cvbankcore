{"ts":1380284668629,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1380284673640,"patch":[[{"diffs":[[1,"\"use strict\";\n\n\ndescribe('Company model', function() {\n    \n\t\n\n\tvar mongoose = require(\"mongoose\");\n\n\tvar util = require(\"util\");\n\t\n    var dbModule = require('../../testDbSetup.js');\n\n    var Company = require(\"../../../models/company.js\").Company;\n    \n    var completed;\n\t\n\t\n    \n    it('exists', function() {\n\n        expect(Company).toBeDefined();\n        expect(Company instanceof Function).toBeTruthy();\n    });\n\n\n    describe('Functions', function() {\n\t\t\n        beforeEach(function() {\n            dbModule.open();\n            completed = false;\n        });\n\n        afterEach(function() {\n            dbModule.close();\n        });\n        \n        var company = new Company();\n        var logo = 'logo.png';\n        var shortName = 'dasersoft';\n        var longName ='softwaretech';\n        var address ='ikorodu lagos';\n        var website ='www.linuxfest.com';\n        var phone = '07031285559';\n        var sector = 'information technology';\n        var email ='badghget@gmail.com';\n        var companyObject;\n\t\tvar companyReady = false;\n\t\tit ('can create', function() {\n\t\t\truns(function() {\n\t\t\t\tcompany.create({\n\t\t\t\t\tshortName : shortName,\n\t\t\t\t\tlongName : longName,\n\t\t\t\t\taddress : address,\n\t\t\t\t\twebsite : website,\n\t\t\t\t\tphone : phone,\n\t\t\t\t\temail : email,\n\t\t\t\t\tsectore : sector\n\t\t\t\t}, function(c) {\n\t\t\t\t\tcompanyObject = c;\n\t\t\t\t\tcompanyReady = true;\n\t\t\t\t\tcompleted = true;\n\t\t\t\t});\n\t\t\t});\n\t\t\t\n\t\t\t\n\t\t\twaitsFor(function() {\n\t\t\t\treturn completed;\n\t\t\t}, 'Waiting for company create timedout', 5000);\n\t\t\t\n\t\t\t\n\t\t\truns(function() {\n\t\t\t\texpect(companyObject).toBeDefined();\n\t\t\t\texpect(companyObject._id).toBeDefined();\n\t\t\t\tconsole.log('Company created');\n\t\t\t\tconsole.log(companyObject);\n\t\t\t});\n\t\t});\n\t\t\n\t\tit ('can delete', function() {\n\t\t\twaitsFor(function() {\n\t\t\t\treturn companyReady;\n\t\t\t}, 'Waiting for company timedout', 5000);\n\t\t\t\n\t\t\tvar deleteResult;\n\t\t\truns(function() {\n\t\t\t\tcompany.hardDelete(companyObject._id, function(e) {\n\t\t\t\t\tconsole.log('Delete completed');\n\t\t\t\t\tdeleteResult = e;\n\t\t\t\t\tcompleted = true;\n\t\t\t\t});\n\t\t\t});\n\t\t\t\n\t\t\twaitsFor(function() {\n\t\t\t\treturn completed;\n\t\t\t}, 'Waiting for company to delete timedout', 10000);\n\t\t\t\n\t\t\truns(function() {\n\t\t\t\tconsole.log('Delete result');\n\t\t\t\tconsole.log(deleteResult);\n\t\t\t});\n\t\t});\n    });\n});"]],"start1":0,"start2":0,"length1":0,"length2":2255}]],"length":2255,"saved":false}
{"ts":1380284977970,"patch":[[{"diffs":[[0,"scribe('"],[-1,"Company"],[1,"School"],[0," model',"]],"start1":18,"start2":18,"length1":23,"length2":22},{"diffs":[[0,"    var "],[-1,"Company"],[1,"School"],[0," = requi"]],"start1":184,"start2":184,"length1":23,"length2":22},{"diffs":[[0,"els/"],[-1,"company.js\").Company"],[1,"school.js\").School"],[0,";\n  "]],"start1":222,"start2":222,"length1":28,"length2":26}]],"length":2251,"saved":false}
{"ts":1380284997251,"patch":[[{"diffs":[[0," expect("],[-1,"Company"],[1,"School"],[0,").toBeDe"]],"start1":317,"start2":317,"length1":23,"length2":22},{"diffs":[[0," expect("],[-1,"Company"],[1,"School"],[0," instanc"]],"start1":355,"start2":355,"length1":23,"length2":22},{"diffs":[[0,"new Comp"],[-1,"any"],[0,"();\n    "]],"start1":666,"start2":666,"length1":19,"length2":16}]],"length":2246,"saved":false}
{"ts":1380285006389,"patch":[[{"diffs":[[0,"var "],[-1,"company"],[1,"school"],[0," = new "],[-1,"Comp"],[1,"School"],[0,"();\n"]],"start1":652,"start2":652,"length1":26,"length2":27}]],"length":2247,"saved":false}
{"ts":1380285100493,"patch":[[{"diffs":[[0,"    var "],[-1,"company"],[1,"school"],[0,"Object;\n"]],"start1":992,"start2":992,"length1":23,"length2":22},{"diffs":[[0,";\n\t\tvar "],[-1,"company"],[1,"school"],[0,"Ready = "]],"start1":1012,"start2":1012,"length1":23,"length2":22},{"diffs":[[0," {\n\t\t\t\t\t"],[-1,"company"],[1,"school"],[0,"Object ="]],"start1":1298,"start2":1298,"length1":23,"length2":22},{"diffs":[[0,"c;\n\t\t\t\t\t"],[-1,"company"],[1,"school"],[0,"Ready = "]],"start1":1321,"start2":1321,"length1":23,"length2":22}]],"length":2243,"saved":false}
{"ts":1380285110796,"patch":[[{"diffs":[[0,"mail"],[-1,",\n\t\t\t\t\tsectore : sector"],[0,"\n\t\t\t"]],"start1":1252,"start2":1252,"length1":31,"length2":8},{"diffs":[[0,"ing for "],[-1,"company"],[1,"school"],[0," create "]],"start1":1430,"start2":1430,"length1":23,"length2":22}]],"length":2219,"saved":false}
{"ts":1380285205385,"patch":[[{"diffs":[[0,"\n\t\t\t\texpect("],[-1,"company"],[1,"school"],[0,"Object).toBe"]],"start1":1498,"start2":1498,"length1":31,"length2":30},{"diffs":[[0,"\texpect("],[-1,"company"],[1,"school"],[0,"Object._"]],"start1":1542,"start2":1542,"length1":23,"length2":22},{"diffs":[[0,"og('"],[-1,"Company"],[1,"School"],[0," cre"]],"start1":1596,"start2":1596,"length1":15,"length2":14},{"diffs":[[0,"ole.log("],[-1,"company"],[1,"school"],[0,"Object);"]],"start1":1626,"start2":1626,"length1":23,"length2":22},{"diffs":[[0,"\t});\n\t\t\n"],[1,"/*"],[0,"\t\tit ('c"]],"start1":1657,"start2":1657,"length1":16,"length2":18},{"diffs":[[0,"\treturn "],[-1,"company"],[1,"school"],[0,"Ready;\n\t"]],"start1":1728,"start2":1728,"length1":23,"length2":22},{"diffs":[[0,"\t\t});\n\t\t});\n"],[1,"*/\n"],[0,"    });\n});"]],"start1":2193,"start2":2193,"length1":23,"length2":26}]],"length":2219,"saved":false}
{"ts":1380285396900,"patch":[[{"diffs":[[0,") {\n\t\t\t\t"],[-1,"company"],[1,"school"],[0,".create("]],"start1":1091,"start2":1091,"length1":23,"length2":22}]],"length":2218,"saved":false}
{"ts":1380285589262,"patch":[[{"diffs":[[0,"asersoft"],[1,"3"],[0,"';\n     "]],"start1":736,"start2":736,"length1":16,"length2":17}]],"length":2219,"saved":false}
